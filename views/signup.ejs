<%-include  public %>
	<style>
		.hidden{
			display:none!important;
		}
		.err{
			color:red;
		}
	</style>
    	<div class="content">
  			<div class="form-group">
	            <label for="name" class="control-label">用户名:</label>
	          
	            <input type="text" class="form-control" id="name" name="name" required autocomplete="off" placeholder="Username">
	            <div class="name-err err hidden">用户名已存在</div>
       		</div>
       		<div class="form-group">
	            <label for="password" class="control-label">密码:</label>
	            <input type="password" class="form-control" id="password"  name="password" required autocomplete="off" placeholder="Password">
	            <div class="password-err err hidden">密码过于简单</div>
        	</div>
        	<div class="form-group">
	            <label for="password" class="control-label">确认密码:</label>
	            <input type="password" class="form-control"   name="re-password" required autocomplete="off" placeholder="Password">
	            <div class="re-password-err err hidden">两次密码不一致</div>
        	</div>
        	<div class="form-group">
	            <label for="password" class="control-label">邮箱:</label>
	            <input type="password" class="form-control" id="email"  name="email" required autocomplete="off" placeholder="Email">
	            <div class="email-err err hidden">邮箱格式不正确</div>
        	</div>
        	<div class="form-group">
	            <label for="password" class="control-label">验证码:</label>
	            <input type="password" class="form-control" id="email"  name="email" required autocomplete="off" placeholder="Password">
	            <button class="test">获取验证码</button>
	            <div class="check-err err hidden">验证码错误</div>
        	</div>
	        <div class="form-group ">
	            <button class="btn btn-success login">注册</button>
	        </div>
  		</div>

<script>
	$(".form-control").on("focus",function(){
                $(".err").addClass("hidden");
    });
    $("#name").on("blur",function(){
    	$.ajax({
    		url:"/signup",
    		type:"post",
    		data:{
    			name:$("#name").val()
    		},
    		success:function(data){
    			if(data['name'] == "no"){
    				$(".name-err").removeClass("hidden");
    			}
    		}
    	})
    });

    $("#password").on("blur",function(){
    	$.ajax({
    		url:"/signup",
    		type:"post",
    		data:{
    			password:$("#password").val()
    		},
    		success:function(data){
    			if(data.password == "no"){
    				$(".password-err").removeClass("hidden");
    			}
    		}
    	})
    });





	$(".test").on("click",function(){



		var random = [];
		for(var i = 0; i < 4; i ++){
			random.push(parseInt(Math.random() * 10));
		}
		console.log(random);
		$.ajax({
			url:'/randommes',
			type:"post",
			data: {
				"mes": random
			},
			success:function(data){
				console.log(data);
			}
		});
	});
</script>

<%- include bottom %>